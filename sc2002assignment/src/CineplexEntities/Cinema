package CineplexEntities;

import java.util.List;
import java.util.ArrayList;
import java.lang.Math;

//Cinema class

enum CinemaType {Platinum, Normal;}
enum CinemaStatus {Sold_out, Selling_Fast, Available;}

public class Cinema{
  //attributes
  private int hallNo;
  private CinemaType cinemaType;
  private int rowNo;
  private int colNo;
  private int totalSeatNo;
  private int occupiedSeatNo;
  private CinemaStatus cinemaStatus;
  public List<Seat> seatList;
  public int[] layout;

  //getters
  public int get_hallNo(){
      return hallNo;
  }
  public CinemaType get_cinemaType(){
      return cinemaType;
  }
  public int get_totalSeatNo(){
      return totalSeatNo;
  }
  public int get_occupiedSeatNo(){
      return occupiedSeatNo;
  }
  public CinemaStatus get_cinemaStatus(){
      return cinemaStatus;
  }

  //setters
  public void set_hallNo(int number){
      hallNo = number;
  }
  public void set_cinemaType(CinemaType ct){
      cinemaType = ct;
  }
  public void set_totalSeatNo(int number){
      totalSeatNo = number;
  }
  public void set_occupiedSeatNo(int number){
      occupiedSeatNo = number;
  }
  public void set_cinemaStatus(CinemaStatus cs){
      //tests
      cinemaStatus = cs;
  }

  //constructors
  Cinema(int number1, CinemaType ct, int number2, int number3, CinemaStatus cs, int row, int col){
      hallNo = number1;
      cinemaType = ct;
      this.rowNo = row;
      this.colNo = col;
      totalSeatNo = number2;
      occupiedSeatNo = number3;
      cinemaStatus = cs;
      layout = new int[number2];
      seatList = new ArrayList<>();
      //filling up the seatList with seat objects
      Seat temp;
      for (int i=0; i<number2; i++){
          temp = new Seat(i, SeatType.Regular);
          seatList.add(temp);
      }
  }
  
  //operations
  public void randomFill(){
	  int min = 0;  
	  int max = 1;
	  int temp;
	  for (int i=0; i<totalSeatNo; i++){
			  temp = (int)(Math.random()*(max-min+1)+min);
			  if (temp == 1) {
				  seatList.get(i).set_occupied(true);
			  }
	  }
  }
  
  public void printLayout(){
      for (int i=0; i<this.totalSeatNo; i++){
          if (seatList.get(i).get_occupied() == true)
              layout[i] = 1;
          else 
              layout[i] = 0;
      }
      System.out.println("----------------------------------");
      System.out.println("-------enter------------exit------");
      System.out.println("|                                |");
      int counter = 0;
      for (int i=0; i<rowNo; i++){
    	  System.out.println("|["+layout[counter]+"]["+layout[counter+1]+"]    ["+
    			  			+layout[counter+2]+"]["+layout[counter+3]+"]["+ 
    			  			+layout[counter+4]+"]["+layout[counter+5]+"]    "+
    			  			"["+layout[counter+6]+"]["+layout[counter+7]+"]|");
    	  counter = counter + 7;
      }
      System.out.println("|                                |");
      System.out.println("|                                |");
      System.out.println("----------------------------------");
      System.out.println("______________screen______________");
  }
}